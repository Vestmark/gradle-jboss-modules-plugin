buildscript {
    repositories {
        maven {
            url uri('../tmp-repo')
        }
    }

    dependencies {
        classpath 'com.zhurlik:gradle-jboss-modules:0.1'
    }
}

apply plugin: 'com.github.zhurlik.jbossmodules'

modules {
    moduleA {
        moduleName = 'com.zhurlik'
        mainClass = 'zh'
        slot = '3.3.3'
        properties = ['ver' : '1.0', 'test' : 'zhurlik']
        resources = ['test1.jar', 'test2.jar',
                     [name: 'name', path: 'path1', filter: 'filter1']
        ]
        dependencies = [
                [name: 'module1'],
                [name: 'module2', export: 'true'],
                [name: 'module3', export: 'false', exports: [
                        include: ['mine'],
                        exclude: ['*not*a', '*not*b']
                    ]
                ]
        ]
    }

    moduleB {
        moduleName = 'com.zhurlik'
        mainClass = 'zh'
        slot = '3.3.3'
        properties = ['ver' : '1.0', 'test' : 'zhurlik']
        resources = ['test1.jar', 'test2.jar',
                     [name: 'name', path: 'path1', filter: 'filter1']
        ]
        dependencies = [
                [name: 'module1'],
                [name: 'module2', export: 'true'],
                [name: 'module3', export: 'false', imports: [
                        include: 'mine',
                        exclude: ['*not*a', '*not*b']
                    ]
                ]
        ]
    }
}

modules.each() {
    println '>>>>>>>>>>>>>>>>>>>>\n' + it.getModuleDescriptor()
}